// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource sqlite {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "sqlite"
}

generator client {
  provider = "prisma-client-js"
  output   = "node_modules/.prisma/client"
}

model User {
  id                     String    @id @default(cuid())
  firstName              String    @default("")
  lastName               String    @default("")
  profileImage_filesize  Int?
  profileImage_extension String?
  profileImage_width     Int?
  profileImage_height    Int?
  profileImage_id        String?
  email                  String    @unique @default("")
  facebookLink           String    @default("")
  twitterLink            String    @default("")
  githubLink             String    @default("")
  linkedInLink           String    @default("")
  description            String    @default("")
  ratings                Float?
  is_admin               Boolean   @default(false)
  role                   String    @default("member")
  password               String
  createdAt              DateTime? @default(now())
  posts                  Post[]    @relation("Post_author")
  likes                  Post[]    @relation("Post_likes")
  comments               Comment[] @relation("Comment_author")
}

model Post {
  id                    String     @id @default(cuid())
  title                 String     @default("")
  overview              String     @default("")
  coverImage_filesize   Int?
  coverImage_extension  String?
  coverImage_width      Int?
  coverImage_height     Int?
  coverImage_id         String?
  thumbnail_filesize    Int?
  thumbnail_extension   String?
  thumbnail_width       Int?
  thumbnail_height      Int?
  thumbnail_id          String?
  socialImage_filesize  Int?
  socialImage_extension String?
  socialImage_width     Int?
  socialImage_height    Int?
  socialImage_id        String?
  body                  String     @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  pageTitle             String     @default("")
  status                String?    @default("draft")
  publishDate           DateTime?  @default(now())
  author                User?      @relation("Post_author", fields: [authorId], references: [id])
  authorId              String?    @map("author")
  likes                 User[]     @relation("Post_likes")
  category              Category[] @relation("Category_posts")
  comments              Comment[]  @relation("Comment_posts")

  @@index([authorId])
}

model Category {
  id    String @id @default(cuid())
  name  String @default("")
  posts Post[] @relation("Category_posts")
}

model Comment {
  id       String  @id @default(cuid())
  message  String  @default("")
  author   User?   @relation("Comment_author", fields: [authorId], references: [id])
  authorId String? @map("author")
  posts    Post?   @relation("Comment_posts", fields: [postsId], references: [id])
  postsId  String? @map("posts")

  @@index([authorId])
  @@index([postsId])
}
